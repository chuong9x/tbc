<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<!-- <script src="http://thebuildingcoder.typepad.com/google-code-prettify/run_prettify.js"></script>-->
</head>

<!--

- 10793298 [Get the element properties of a model]
  ArchSample, never mentioned before, part of the ADN training labs

#revitapi #adsk #bim #geometry #3dwebcoder #ah8
#augi #au2015 #dotnet #csharp #adskdevnetwrk
#3dweb #3dviewapi #html5 #threejs #webgl #3d #apis #cloud #mobile #vr #ecommerce

Revit API, Jeremy Tammik, akn_include

-->


<h3>AngelHack Athens, Sustainability and Precision versus Tolerance</h3>

<p>AngelHack Athens is in full swing, Autodesk has committed to 100% sustainability, Scott Conover explains some Revit export precision and tolerance aspects, and I am leaving on vacation next week:</p>

<ul>
<li><a href="#2">AngelHack Athens hackathon</a></li>
<li><a href="#3">Autodesk commits to 100% renewable energy</a></li>
<li><a href="#4">Revit export precision and tolerance</a></li>
<li><a href="#5">Vacation time</a></li>
</ul>


<a name="2"></a>

<h4>AngelHack Athens Hackathon</h4>

<p>We held the second
<a href="http://www.meetup.com/I-love-3D-Athens">I love 3D &ndash; Athens</a> meetup
yesterday with 19 interested and enthusiastic participants:</p>

<center>
<img src="img/angel_workshop_athens_2857.jpg" alt="Angel workshop Athens" width="400"/>
</center>

<p>I posted the full details and links to all the important
<a href="https://developer.autodesk.com">View and Data API</a> resources in The 3D Web Coder discussion on the
<a href="http://the3dwebcoder.typepad.com/blog/2015/06/my-entry.html#2">Angel Workshop I&hearts;3D</a>.</p>

<p>Now we are getting started with the

<a href="http://angelhack.com/hackathon/athens-2015">AngelHack hackathon</a>:</p>

<center>
<img src="file:////j/photo/jeremy/2015/2015-06-06_athens_angelhack/416_angelhack_participants.jpg" alt="AngelHack Athens Hackathon" width="400"/>
</center>

<p>Check out my new
<a href="https://www.facebook.com/media/set/?set=a.10205772022192669.1073741835.1019863650&type=1&l=9804c4a2a2">
AngelHack Athens Hackathon album</a> featuring
a 360 view of Athens from the hotel roof, the participants and lots of cool street art in the immediate vicinity of
<a href="http://thecube.gr">The Cube</a>:</p>

<center>
<img src="file:////j/photo/jeremy/2015/2015-06-06_athens_angelhack/412_face_and_bird_on_pillars.jpg" alt="Face and a bird spread across several pillars" width="400"/>
</center>



<a name="3"></a>

<h4>Autodesk Commits to 100% Renewable Energy</h4>

<p>I am happy to announce that Autodesk has made the commitment to power its business with 100% renewables:</p>

<center>
<img src="img/autodesk_renewable_energy.jpeg" alt="Autodesk renewable" width="400"/>
</center>

<p>At the same time, we released the
<a href="http://inthefold.autodesk.com/in_the_fold/2015/06/sustainability-in-action-autodesk-commits-to-100-renewable-energy.html">
7<sup>th</sup> sustainability report</a>.</p>




<a name="4"></a>

<h4>Revit Export Precision and Tolerance</h4>

<p>Back to the Revit API and an important question that recently came up on the precision of the face edge curves generated by exporting a Revit model.</p>

<p>This has been discussed several times in the past, e.g. in this explanation of <a href="http://thebuildingcoder.typepad.com/blog/2014/05/tessellatesolidorshell-holes-versus-wholes.html">gaps in shells and the TessellateSolidOrShell method</a>.</p>

<p>Here a couple of important general aspects of this issue brought to you by Scott Conover, Revit API Software Development Manager, and the Protractors Revit product development team:</p>

<p><strong>Question:</strong>

I am having problems with gaps in the geometry returned by the Revit export.</p>

<p>Any application which wants to read the B-Rep information from Revit for their downstream use cases will have this issue of geometry and topology mismatch.</p>

<p><strong>Answer:</strong>

As discussed previously, this is working as designed for Revit.</p>

<p>Edge curves are derived from the coordinates and parameterization on the associated surface, and thus are an approximation from the original analytic geometry.</p>

<p>The group that works with Revit geometry is wondering how this is causing a downstream impact of significance to your application.  You mentioned 3D visualization issues.  They are also wondering about the tolerances expected of the application, because in reality most 3D data you encounter will always have small discrepancies. Your application must always be enabled to gracefully handle these. For instance, the approximation of an ellipse by a Hermite spline should result in a small discrepancy, e.g., a difference of 0.01% or so for the area contained within similar curves.</p>

<p>You say that 'this impact will not be limited to our use case, but to any application who wants to make use of Revit B-rep information for their downstream analysis purpose'; that is only true of applications that either use a finer 3D tolerance than Revit, or that use no tolerance at all. You don’t say which category your application belongs to, but the repeated use of the word 'exact' makes me think that you might not be using any tolerances, or an excessively small tolerance, such as Revit’s DOUBLE_EPS = 1.-e-9. If that’s the case, you will not be able to handle much realistic data, and you will need to improve your application to do so.</p>

<p>Is the issue related to tolerancing of the downstream application?  What tolerances does it expect?</p>

<p>There is no one-size-fits-all recommendation to the kind of questions, or how to handle export.  There are many flavours of export, e.g., 3D BRep, 3D faceted, recipe-based, 2D raster, 2D vector, and more.  Also, because Revit can represent the entire building design across multiple disciplines, an export may or may not include all of the elements, and an export for something like MEP systems might be very different from structural export for analysis and from the visual appearance of an architectural model.</p>

<p>I really only have two recommendations for understanding how to make a reasonable export from Revit:</p>

<ol>
<li>Use the IExportContext for 3D export so you don’t have to wade through the 35 different ways an element can be hidden in determining what to export.</li>
<li>Look at the IFC export open source. A lot of effort has gone into that to make it robust and useful, and it currently incorporates examples of 3D faceted and recipe-based export for some types.  In IFC4 there is a BRep representation as well so I imagine that will also make an appearance in the future. Note that this contradicts #1, as it doesn’t use IExportContext. This is because the API-based export predates the context and thus there is some logic to handle visible elements or to export the 'whole' 3D model.</li>
</ol>

<p>Many thanks to Scott and the Protractors team for their helpful overview and recommendations!</p>


<a name="5"></a>

<h4>Vacation Time</h4>

<p>The best news comes last, and is brief:</p>

<p>I am leaving Greece now to fly home and take a week of vacation time in the beautiful Swiss
<a href="https://en.wikipedia.org/wiki/Emmental">Emmental</a> region.</p>

<p>Yay!</p>

<p>Have fun, and take care!</p>

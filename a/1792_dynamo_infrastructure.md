<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="bc.css">
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</head>

<!---

- Jostein Olsen @Jos_ols
My blog is dead close to being.. well, dead.. But anyways, here is the link to a blog post containing all my session materials for #BILTeur 2019: https://bit.ly/32kHNSY
Hopefully it can be of some value. Cheers!
/a/doc/revit/tbc/git/a/zip/jostein_olsen_bilt_2019.zip
Digital Built Week Europe 2019 BILT Europe 2019, EICC, Edinburgh, October 10-12, 2019
Session 2.2 &ndash; Visual Programming in Infrastructure: Gung-ho Tactics for Getting Stuff Done
Jostein Berger Olsen, Bad Monkeys
Class Description
The introduction of BIM in Infrastructure has been, and still is, a bumpy ride. Adding to it, Infrastructure projects are complex and faceted in its very nature. With visual programming tools you as an engineer, modeller or drafter get a new set of tools that can be applied to a range of different production challenges for consultants, owners and contractors alike. This lab will look into how we can parametrically drive Infrastructure BIM-models using visual programming tools. We'll cover some basics, but also explore aspects of geometry, math and data handling that in sum can more or less directly be applied to live projects.
So, if you're an Infrastructure BIM'mer come attend this lab, and learn how things can be done better and faster than ever before!
Table of Contents
1. Introduction<br/>&ndash; A Little Note on Software &ndash; How Do We Learn? &ndash; What’s the Deal with These Curves &ndash; Curves ain’t curves
2. Points (Along curves)<br/>&ndash; Points along curves &ndash; Points Projected &ndash; Points Analysed
3. Vectors and Angles<br/>&ndash; Setting an Elements Rotation
4. Data<br/>&ndash; Renumber Elements &ndash; Parsing Text Data
5. Coordinate Systems<br/>&ndash; Placing Utility poles again &ndash; Building Solids using CS &ndash; CS and Discrete Geometry
6. Closing Remarks

- Place a Family instance along selected another family instance edge
  https://forums.autodesk.com/t5/revit-api-forum/place-a-family-instance-along-selected-another-family-instance/m-p/9096037

- TTT: Dimension on Hatch Pattern Slab
  https://forums.autodesk.com/t5/revit-api-forum/dimension-on-hatch-pattern-slab/m-p/9095683

- Most Popular Programming Languages 1965 - 2019
  https://youtu.be/Og847HVwRSI
  Data Is Beautiful
  Timeline of the most popular programming languages since 1965 to 2019. So far the most intense ranking I've ever done :) For recent years I've used multiple programming languages popularity indexes with adjustments thanks to the data from GitHub repositories access frequency. For historical ranking I've used aggregation of multiple national surveys to establish several data points, plus a world wide publications rate of occurrence. In this ranking popularity is defined by percentage of programmers with either proficiency in specific language or currently learning/mastering one. Y axis a relative value to define ranking popularity between all other items.
  Have fun!
  <iframe width="560" height="315" src="https://www.youtube.com/embed/Og847HVwRSI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  img/2019-10_popular_programming_languages.png 800

twitter:

 the #RevitAPI @AutodeskForge @AutodeskRevit #bim #DynamoBim #ForgeDevCon 

&ndash; 
...

linkedin:


#bim #DynamoBim #ForgeDevCon #Revit #API #IFC #SDK #AI #VisualStudio #Autodesk #AEC #adsk

the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread

<p style="font-size: 80%; font-style:italic"></p>

-->

### Visual Programming in Infrastructure

Let's highlight another class from BILTNZ and a personal invitation to the upcoming DevCon in Las Vegas:

- [Invitation to Forge DevCon in Las Vegas](#2)
- [Visual Programming in Infrastructure: gung-ho tactics for getting stuff done](#3)
    - [Class description](#3.1)
    - [Table of contents](#3.2)
- [Placing an instance along an edge](#4)
- [Most popular programming languages 1965-2019](#5)


####<a name="2"></a> Invitation to Forge DevCon in Las Vegas

Before diving into the main topic for today, here is a personal invitation to the upcoming to Forge DevCon in Las Vegas from Jim Quanci, Senior Director, Forge Platform Development and Autodesk Developer Network:

On November 18th we'll be holding our 4th global [Forge DevCon](https://forge.autodesk.com/devcon-2019) in Las Vegas.

The Forge DevCon is a 'pre-conference' to Autodesk University.
But don't let the 'pre-conference' bit fool you.
Forge DevCon is a fully fledged conference in its own right.
Of course, a lot of attendees will be staying on in Vegas all week to get the full AU experience, but Forge DevCon is well worth the trip on its own &ndash; and around 20% of our attendees do just that.
We're expecting over 1500 attendees just at Forge DevCon, and we're continuing our collaboration with the Connect & Construct Summit so that attendees at either conference can attend any class or keynote &ndash; that adds another 2500 attendees into the mix.

The theme for this year’s Forge DevCon is Digital Transformation.
Whether you are taking your business thru a Digital transformation &ndash; or you are helping your customers thru their Digital Transformation.
We've lined up 30 classes for you at Forge DevCon, and have ensured there's something for everyone.
There will be deep technical classes for coders, Forge roadmap, case studies delivered by partners, business-oriented classes, panel sessions by industry leaders, “Meet the Experts” where the Autodesk expert panel will answer all of your questions, and even a series
of [Learning Lab classes](https://autodeskuniversity.smarteventscloud.com/connect/search.ww?searchType=session&searchPhrase=FDC320314+FDC320976+FDC322917+FDC331632#loadSearch-searchPhrase=FDC322542%20FDC322546%20FDC322554%20FDC323665%20FDC322552&searchType=session&tc=0&sortBy=dayTime&i(72466)=&p=) to
help those of you who are new to Forge to get up and running quickly.

What’s new to learn at the DevCon that shouldn’t be missed?

- Forge Design Automation with the release of Revit, Inventor and 3ds max “engines in the cloud” (along with AutoCAD that is already released).  What are Autodesk partners and customers doing with design Automation?  Automate. Automate. Automate.  From automating design to automating model checking and more.
- Forge Model Derivative and Viewer using next generation “OTG” format.  This is all about an order of magnitude increase in model size and performance. Work with your largest models in the browser at “high speed” and on hardware limited mobile devices (phone, tablet, AR/VR and more).
- New BIM 360 APIs.  Model Coordination (clash), Cost, Submittals, and more.

The Forge team will be present at the Conference and at your disposal to answer any of your questions, up close and personal help with your challenges.
Face to face time is important when you are climbing the learning curve and driving change in your organization &ndash; so come and get face time with Autodesk decision makers and engineers &ndash; and share learnings with other developers just like you.
 
Convince your manager today that he needs to send you to the Forge DevCon &ndash; and
then [register for the conference now](https://autodeskuniversity.smarteventscloud.com/portal/myAccount.ww?pass=forgeDevCon).
It's only four weeks away!

If you already registered for AU, it’s easy to add your Forge DevCon pass for just $150 &ndash; go to
your [AU registration](https://autodeskuniversity.smarteventscloud.com/portal/myAccount.ww?pass=forgeDevCon) and
click “Add a pass”. 
In case you have questions about your registration, our AU customer service is ready to help,
just [email autodeskuniversity@autodeskevents.com](mailto:autodeskuniversity@autodeskevents.com).

Questions (of any sort)? Unsure?
Want to have a 1 on 1 meeting while I am in Las Vegas?
Please do feel free to reach out to me directly.
Just [drop me an email](mailto:jim.quanci@autodesk.com) &ndash; or call/text me.
Really.
 
Cheers,

<p style="text-align: right; font-style: italic">Jim Quanci
<br/>Senior Director, Software Partner Development, Autodesk, Inc.
<br/>+1-415-640-4461 (mobile)</p>
 
<center>
<img src="img/jim_quanci_sailor.png" alt="Jim Quanci, sailor" width="367">
</center>

####<a name="3"></a> Visual Programming in Infrastructure: Gung-ho Tactics for Getting Stuff Done

Back to the Revit API and Dynamo, in this case:

Let's highlight another BILT 2019 class shared by 
[Jostein Berger Olsen](https://www.linkedin.com/in/jostein-berger-olsen-97416741/),
of [Bad Monkeys](https://www.badmonkeys.net) Norway
&ndash; the AEC workflow changers,
not the [psychological thriller](https://en.wikipedia.org/wiki/Bad_Monkeys)
by [Matt Ruff](https://en.wikipedia.org/wiki/Matt_Ruff),
nor the [film currently under development](https://www.imdb.com/title/tt5901378) &nbsp; :-)

Says Jostein [@Jos_ols](https://twitter.com/jos_ols) on Twitter:

> My blog is dead close to being.. well, dead..
But anyways, here is the link to a blog post containing all my session materials for #BILTeur 2019: [bit.ly/32kHNSY](https://bit.ly/32kHNSY).
Hopefully it can be of some value. Cheers!

I copied Jostein's material here locally as well, to [jostein_olsen_bilt_2019.zip](zip/jostein_olsen_bilt_2019.zip).

Many thanks to Jostein for sharing his valuable experience with us!


####<a name="3.1"></a> Class Description

Session 2.2 at the Digital Built Week Europe 2019, BILT Europe 2019, EICC, Edinburgh, October 10-12, 2019:

Visual Programming in Infrastructure: Gung-ho Tactics for Getting Stuff Done

The introduction of BIM in Infrastructure has been, and still is, a bumpy ride. Adding to it, Infrastructure projects are complex and faceted in its very nature. With visual programming tools you as an engineer, modeller or drafter get a new set of tools that can be applied to a range of different production challenges for consultants, owners and contractors alike. This lab will look into how we can parametrically drive Infrastructure BIM-models using visual programming tools. We'll cover some basics, but also explore aspects of geometry, math and data handling that in sum can more or less directly be applied to live projects.

So, if you're an Infrastructure BIM'mer come attend this lab, and learn how things can be done better and faster than ever before!


####<a name="3.2"></a> Table of Contents

1. Introduction<br/>&ndash; A Little Note on Software &ndash; How Do We Learn? &ndash; What’s the Deal with These Curves &ndash; Curves ain’t curves
2. Points (Along curves)<br/>&ndash; Points along curves &ndash; Points Projected &ndash; Points Analysed
3. Vectors and Angles<br/>&ndash; Setting an Elements Rotation
4. Data<br/>&ndash; Renumber Elements &ndash; Parsing Text Data
5. Coordinate Systems<br/>&ndash; Placing Utility poles again &ndash; Building Solids using CS &ndash; CS and Discrete Geometry
6. Closing Remarks

<center>
<img src="img/dynamo_infrastructure.png" alt="Visual programming in infrastructure" width="563">
</center>


####<a name="4"></a> Placing an Instance Along an Edge

Among many other things, Jostein shows how to place family instances along curves.

Here is another discussion on that at a lower level, from the [Revit API discussion forum](http://forums.autodesk.com/t5/revit-api-forum/bd-p/160) thread
on [placing a family instance along a selected edge of another family instance](https://forums.autodesk.com/t5/revit-api-forum/place-a-family-instance-along-selected-another-family-instance/m-p/9096037),
once again showing the use of simple snooping to discover what is up:

**Question:** I have two families in a project.
I bring in one family instance based on the selected model line.
I have an issue placing another family instance in the project based on a selected edge in the already placed family instance.
It is placed in opposite orientation (it seems rotated).
I used code for `GetInstanceEdgeFromSymbolRef` from [The Building Coder samples CmdDimensionInstanceOrigin module](https://github.com/jeremytammik/the_building_coder_samples/blob/master/BuildingCoder/BuildingCoder/CmdDimensionInstanceOrigin.cs) to select the reference edge for placing the second family instance.
Points of the selected edge are correct as per code in above link.
But the orientation of the selected geometry seems to be wrong. 

Placing manually using family instance edge is working fine.

<center>
<img src="img/place_inst_along_edge_1.jpg" alt="Placing an instance along an edge" width="600"> <!--1146-->
</center>

I used RevitLookup to check, and it seems the orientation of the instances differ:

<center>
<img src="img/place_inst_along_edge_2.jpg" alt="Placing an instance along an edge" width="600"> <!--1366-->
<p style="font-size: 80%; font-style:italic"><(0,1,0) and (1,0,0)/p>
</center>

<center>
<img src="img/place_inst_along_edge_3.jpg" alt="Placing an instance along an edge" width="600"> <!--1366-->
<p style="font-size: 80%; font-style:italic"><(0,-1,0) and (-1,0,0)/p>
</center>

**Answer:** Here is the solution I found:

<pre class="code">
  Edge selEdge = RevitActions.Instance
    .GetInstanceEdgeFromSymbolRef(LeftSideEdge);
    
  Curve refcurve = selEdge.AsCurve().CreateReversed();
</pre>

After extracting the curve I reversed it. I still don't understand why the family placement works fine while manually, whereas using the API I need to reverse it.

Many thanks to Pandian Srinivasan for sharing this!


####<a name="5"></a> Most Popular Programming Languages 1965 - 2019

A very nice animatio based on historical data on the relative populatity of programming languages in the past six decades, 
the [Most Popular Programming Languages 1965 - 2019](https://youtu.be/Og847HVwRSI):

> Timeline of the most popular programming languages since 1965 to 2019.
So far the most intense ranking I've ever done :)
For recent years, I've used multiple programming languages popularity indexes with adjustments thanks to the data from GitHub repositories access frequency.
For historical ranking, I've used aggregation of multiple national surveys to establish several data points, plus a world wide publications rate of occurrence.
In this, ranking popularity is defined by percentage of programmers with either proficiency in specific language or currently learning/mastering one.
`Y` axis a relative value to define ranking popularity between all other items.
Have fun!

<iframe width="560" height="315" src="https://www.youtube.com/embed/Og847HVwRSI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

